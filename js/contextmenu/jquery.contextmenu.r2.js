(function(b){function j(){c.hide();g.hide()}var c,g,h,f,d={menuStyle:{listStyle:"none",padding:"1px",margin:"0px",backgroundColor:"#fff",border:"1px solid #999",width:"100px"},itemStyle:{margin:"0px",color:"#000",display:"block",cursor:"default",padding:"3px",border:"1px solid #fff",backgroundColor:"transparent"},itemHoverStyle:{border:"1px solid #0a246a",backgroundColor:"#b6bdd2"},eventPosX:"pageX",eventPosY:"pageY",shadow:!0,onContextMenu:null,onShowMenu:null};b.fn.contextMenu=function(k,a){c||
(c=b('<div id="jqContextMenu"></div>').hide().css({position:"absolute",zIndex:"500"}).appendTo("body").bind("click",function(b){b.stopPropagation()}));g||(g=b("<div></div>").css({backgroundColor:"#000",position:"absolute",opacity:0.2,zIndex:499}).appendTo("body").hide());f=f||[];f.push({id:k,menuStyle:b.extend({},d.menuStyle,a.menuStyle||{}),itemStyle:b.extend({},d.itemStyle,a.itemStyle||{}),itemHoverStyle:b.extend({},d.itemHoverStyle,a.itemHoverStyle||{}),bindings:a.bindings||{},shadow:a.shadow||
!1===a.shadow?a.shadow:d.shadow,onContextMenu:a.onContextMenu||d.onContextMenu,onShowMenu:a.onShowMenu||d.onShowMenu,eventPosX:a.eventPosX||d.eventPosX,eventPosY:a.eventPosY||d.eventPosY});var i=f.length-1;b(this).bind("contextmenu",function(a){if(f[i].onContextMenu?f[i].onContextMenu(a):1){var d=this,e=f[i];h=b("#"+e.id).find("ul:first").clone(!0);h.css(e.menuStyle).find("li").css(e.itemStyle).hover(function(){b(this).css(e.itemHoverStyle)},function(){b(this).css(e.itemStyle)}).find("img").css({verticalAlign:"middle",
paddingRight:"2px"});c.html(h);e.onShowMenu&&(c=e.onShowMenu(a,c));b.each(e.bindings,function(a,e){b("#"+a,c).bind("click",function(){j();e(d,void 0)})});c.css({left:a[e.eventPosX],top:a[e.eventPosY]}).show();e.shadow&&g.css({width:c.width(),height:c.height(),left:a.pageX+2,top:a.pageY+2}).show();b(document).one("click",j)}return!1});return this};b.contextMenu={defaults:function(c){b.each(c,function(a,c){"object"==typeof c&&d[a]?b.extend(d[a],c):d[a]=c})}}})(jQuery);$(function(){$("div.contextMenu").hide()});
